<div ng-controller="EventCtrl">
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-sm-4">
            <h2>Event Detail</h2>
            <ol class="breadcrumb">
                <li>
                    <a href="..\"> Home </a>
                </li>
                <li class="active">
                    <strong>{{$state.$current.data.pageTitle}}</strong>
                </li>
            </ol>
        </div>
    </div>

    <div class="row">
        <div class="wrapper wrapper-content animated fadeInRight">
            <div class="ibox">
                <div class="ibox-content">
                    <form class="m-t" role="form" ng-submit="updateEvent($sessionStorage.event)">
                        <div class="form-group row">
                            <div class="col-lg-12">
                                <h2>
                                    <strong>
                                        {{$sessionStorage.event.eventName}}
                                    </strong>
                                </h2>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label" for="idDescription">Event Name:</label>
                            <div class="col-sm-6">
                                <input class="input-sm form-control" id="idDescription" type="text" name="input" ng-required="true"
                                       ng-model="$sessionStorage.event.eventName">
                            </div>
                        </div>


                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label" for="idDescription">Event Number:</label>
                            <div class="col-sm-6">
                                <input class="input-sm form-control" id="idDescription" type="text" name="input" ng-required="true"
                                       ng-model="$sessionStorage.event.eventNumber">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label" for="idYear">Event Date Time:</label>
                            <div class="col-md-4">
                                <p class="input-group">
                                    <input id="idYear" type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="$sessionStorage.event.eventDateTime" is-open="popupStart.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" ng-disabled="!ifAdmin();" />
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="openStart()"><i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
                                    {{$sessionStorage.event.eventDateTime.toTimeString().substr(0,8)}}
                                </p>
                                
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label" for="idYear">Event End Date Time:</label>
                            <div class="col-md-4">
                                <p class="input-group">
                                    <input id="idYear" type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="$sessionStorage.event.eventEndDateTime" is-open="popupEnd.opened" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" ng-disabled="!ifAdmin();" />
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="openEnd()"><i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
                                    {{$sessionStorage.event.eventEndDateTime.toTimeString().substr(0,8)}}
                                </p>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label">Auto Close : </label>
                            <div class="col-sm-1">
                                <input class="input-sm form-control" type="checkbox" ng-value="1"
                                       ng-model="$sessionStorage.event.autoClose" />
                            </div>
                        </div>

                        <button type="button" class="btn btn-success dim pull-left" ng-click="goBack();">
                            <i class="fa fa-arrow-left"></i>
                            Cancel
                        </button>
                        <button ng-show="ifAdmin()" type="submit" class="btn btn-primary dim">
                            <span ng-show="spinUpdateEvent == 'Saving'">
                                <i class="glyphicon glyphicon-refresh spinning"></i>
                            </span>
                            <span ng-show="spinUpdateTournament != 'Saving'">
                                <i class="glyphicon glyphicon-save"></i>
                            </span>
                            {{ spinUpdateEvent }}
                        </button>
                        <button style="float:right" ng-show="ifAdmin()" ng-click="deleteEvent($sessionStorage.event)" class="btn btn-danger dim btn-default" type="button"><i class="fa fa-trash"></i>Delete</button>
                    </form>
                </div>
            </div>
        </div>

    </div>
</div>
